board: midi_keyboard
chip: esp32s3
version: 1.0.0

peripherals:
  # I2S Standard Configuration
  - name: i2s_audio_out
    type: i2s
    role: master
    format: std-out
    config: &i2s_config
      port: 0  # Explicitly specify I2S port number
      # Clock configuration
      sample_rate_hz: 16000           # Sample rate in Hz
      mclk_multiple: 256              # Multiple of MCLK to sample rate (256 or 384 for 24-bit)

      # Slot configuration
      data_bit_width: 16              # Data bit width (valid data bits per sample)
      slot_bit_width: I2S_SLOT_BIT_WIDTH_AUTO  # Total bits per slot (I2S_SLOT_BIT_WIDTH_AUTO or specific value)
      slot_mode: I2S_SLOT_MODE_STEREO # I2S_SLOT_MODE_MONO or I2S_SLOT_MODE_STEREO
      slot_mask: I2S_STD_SLOT_BOTH    # I2S_STD_SLOT_LEFT, I2S_STD_SLOT_RIGHT, or I2S_STD_SLOT_BOTH slots
      ws_width: 16                    # WS signal width in BCLK ticks

      # GPIO configuration
      pins:
        mclk: 16                       # GPIO number for MCLK
        bclk: 9                       # GPIO number for BCLK
        ws: 45                        # GPIO number for WS
        dout: 8                      # GPIO number for DATA out

  ## power control
  - name: gpio_keep_power
    type: gpio
    config:
      pin: 1
      mode: GPIO_MODE_OUTPUT
      default_level: 1

  - name: gpio_power_key
    type: gpio
    config:
      pin: 3
      mode: GPIO_MODE_OUTPUT
      default_level: 1

  - name: gpio_power_vdd
    type: gpio
    config:
      pin: 48
      mode: GPIO_MODE_OUTPUT
      default_level: 1

  ## PA control
  - name: gpio_pa_control
    type: gpio
    config:
      pin: 47
      mode: GPIO_MODE_OUTPUT
      default_level: 0
